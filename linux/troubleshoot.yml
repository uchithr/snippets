# LOG FILES LOCATION
/root/var

# VERIFY SHELL MODE
$ echo $SHELL

# Monitor Commands
psaux


# TEST SPEED 
curl -o /dev/null http://speedtest.tele2.net/100MB.zip


# GATEWAY
ip route show default



###########################
# TOP ####################
##########################


htop
pkill -KILL -U samf


# SORT BY CPU USAGE 
top -o %CPU


# SORT BY MEMORY USAGE
top -o %MEM


# FIND PROCESSES USING MORE THAN 50% CPU
ps aux | awk '$3 > 50 {print $0}'


# DISPLAY SPECIFIC USERS' PROCESSES:
top -u username
ps aux --sort=-%cpu | head -n 10



# FILTER PROCESSES BELONGING TO A SPECIFIC USER CONSUMING >10% MEMORY
ps aux | awk '$1 == "user1" && $4 > 10 {print $0}'



# LIST TOP 5 MEMORY-CONSUMING PROCESSES
ps aux --sort=-%mem | head -n 6



# SORT BY BOTH CPU AND MEMORY USAGE
ps aux --sort=-%cpu,-%mem



# KILL ALL PROCESSES WITH A SPECIFIC NAME
ps aux | grep myprocess | awk '{print $2}' | xargs kill -9


# FIND ALL PROCESSES GROUPED BY A USER AND SORT BY CPU
ps aux | awk '$1 == "user1" {print $0}' | sort -k3 -nr

_____________________________________________________________________________




### SYSTEM PERFORMANCE ANALYSIS ###
#
# SHOW TOP 10 PROCESSES USING THE MOST CPU
ps aux --sort=-%cpu | head

# RUN A STRESS TEST: 2 CPU WORKERS, 1 IO WORKER, 1 VM USING 128MB RAM FOR 10 SECONDS
stress --cpu 2 --io 1 --vm 1 --vm-bytes 128M --timeout 10s


### MEMORY AND DISK CACHE CLEANUP ###
#
# DELETE ALL PHP5 SESSION FILES (USE WITH CAUTION; PATH MAY VARY BY PHP VERSION)
sudo rm -rf /var/lib/php5/*

# -------------------------------------------------------------------------
### SERVICE MANAGEMENT & TROUBLESHOOTING ###
# 
# RESTART THE APACHE2 WEB SERVER
sudo systemctl restart apache2

# CHECK RUNNING APACHE2 PROCESSES
ps aux | grep apache2

# DISPLAY STATUS OF APACHE2 SERVICE
systemctl status apache2


# -------------------------------------------------------------------------
###  NETWORK MONITORING & DIAGNOSTICS ###
#
# DISPLAY LIVE INTERFACE BANDWIDTH USAGE
ifstat

# DISPLAY PACKET/TRAFFIC STATISTICS FOR ALL NETWORK INTERFACES
ip -s link

# GRAPHICAL REAL-TIME BANDWIDTH MONITOR PER INTERFACE
nload

# SHOW ACTIVE CONNECTIONS AND LISTENING PORTS WITH ASSOCIATED PROCESSES
ss -tunap

# PING A REMOTE SERVER TO TEST CONNECTIVITY
ping <server-ip>

# TRACE ROUTE TO A REMOTE SERVER TO IDENTIFY NETWORK PATH AND DELAYS
traceroute <server-ip>

# SEND A HEAD REQUEST TO TEST HTTP RESPONSE HEADERS
curl -I http://your-server/

# RUN APACHE BENCHMARK WITH 100 REQUESTS AND 10 CONCURRENT USERS
ab -n 100 -c 10 http://your-server/

# -------------------------------------------------------------------------

###  LOGS & SYSTEM EVENTS ##
#
# VIEW RECENT SYSTEM LOGS WITH EXTENDED INFORMATION (ERRORS, WARNINGS, ETC.)
journalctl -xe

# VIEW KERNEL AND HARDWARE-RELATED MESSAGES (SCROLLABLE)
dmesg | less


# DATABASE (MYSQL) MONITORING
# SHOW ACTIVE MYSQL PROCESSES (REQUIRES ROOT OR MYSQL ADMIN USER)
mysqladmin processlist -u root -p

# SHOW CURRENTLY RUNNING QUERIES WITH FULL DETAILS (RUN INSIDE MYSQL SHELL)
SHOW FULL PROCESSLIST;


# CHECK LAST REBOOT TIME
last -x -F | grep -E "shutdown|reboot" | sort -k5,5M -k6,6n
